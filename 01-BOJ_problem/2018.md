---
title: "2018"
categories:
  - Algorithm
tags:
  - BaekJoon
last_modified_at: 2022-07-21T23:30:00-00:30
---

# 수들의 합 5

## 문제

어떠한 자연수 N은, 몇 개의 연속된 자연수의 합으로 나타낼 수 있다. 당신은 어떤 자연수 N(1 ≤ N ≤ 10,000,000)에 대해서, 이 N을 몇 개의 연속된 자연수의 합으로 나타내는 가지수를 알고 싶어한다. 이때, 사용하는 자연수는 N이하여야 한다.

예를 들어, 15를 나타내는 방법은 15, 7+8, 4+5+6, 1+2+3+4+5의 4가지가 있다. 반면에 10을 나타내는 방법은 10, 1+2+3+4의 2가지가 있다.

N을 입력받아 가지수를 출력하는 프로그램을 작성하시오.

## 입력

첫 줄에 정수 N이 주어진다.

## 출력

입력된 자연수 N을 몇 개의 연속된 자연수의 합으로 나타내는 가지수를 출력하시오

## 예제 입력

15

## 예제 출력

4

```c++
#include <iostream>

using namespace std;

int main() {
	int n;
	cin >> n;

	int sum = 0;
	int cnt = 0;

	for (int i = 1; sum <= n; i++) {
		sum += i;

		if ( (n - sum) >= 0 && (n - sum) % i == 0 ) {
			cnt++;
		}
	}

	cout << cnt << endl;
	return 0;
}
```

해당 문제는 수학적 지식이 꽤나 있으면! 풀기가 쉬웠던 문제이다.

참고한 처음에 생각한 배열 풀이법으론 시간복잡도는

$$ O(n^2) $$

코드도 복잡하고 알기가 힘들어서 그냥 검색을 해보았는데, 좋은 방식을 알려주었다.

개선된 참고자료를 이용해서 시간복잡도를 줄일 수 있었다.

$$ O(n) $$

-----

바로! 수학을 이용해서 개선하는 방식을 채택했다.

### (1) 0, 1, 2, ..., m

`0` 부터 `m` 까지의 연속적인 수를 더하면 `n` 을 만들 수 있다고 하면, 다음과 같은 공식이다. ( `m` 의 개수는 `cnt` )

$$ n = cnt * \frac{(cnt - 1)}{2} $$

### (2) a, a + 1, a + 2, ..., m

특정 수 `a` 부터 `m` 까지 연속적인 수를 더하면 `n` 을 만들 수 있다고 한다면,

$$ n = (a * cnt) + cnt * \frac{(cnt - 1)}{2} $$

여기서 어떤 자연수 `m` 을 골랐을 때, (2) 공식에서 (1) 공식을 뺀 결과가 `0` 보다 크고 같거나 `m`의 배수로 나오면 조건에 성립해서 결국 (3)과 같은 수식만 남는다.

### (3) 

$$ n = a * count $$

왜 이 과정을 거치게 되었을까?

```c++
for(int i = 1; n <= m; i++) {
    n += i;
    // ...
}
```

(2) 공식을 위 코드에 적용시킬 수 있다.

```c++
for(int i = 1; n <= input; i++) {
    n += i;
    if ( (input - n) >= 0 && (input - n) % i == 0 ) {
        cnt++;
    }
}
```

`i` 와 `for()` 를 이용해 `input` 의 후보를 찾고,

`if` 문 조건은 (2)에서 (1)을 뺀 것( input - n )이 0보다 크거나 같고 나눠 떨어지는 수가 1부터 input까지 더한 수와 일치하므로 참인 조건에서 출력값을 증가시켜줘야한다.

